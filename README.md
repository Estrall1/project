一、训练相关文件
1. train.py
这是完整的训练文件，包含模型训练的所有完整功能、数据预处理、模型架构和训练流程。适用于有充足计算资源（GPU内存、显存等）的环境。
2. train_simple.py
这是简化版的训练文件，主要针对硬件限制（如GPU内存不足、计算能力有限）而设计。简化版包含以下调整：
减少训练数据量
简化模型结构
降低批次大小（batch size）
减少训练轮数（epochs）
使用轻量级的数据增强方式
测试相关文件
1. test.py
这是完整模型的测试文件，用于评估完整训练后的模型性能。包含完整的测试流程、评估指标计算和结果可视化功能。
2. test_simple.py
这是简化版的测试文件，专门用于测试由train_simple.py训练出的简化模型。确保测试环境与训练环境的一致性。
二、模型结构图：
┌─────────────────────────────────────────────────────────────────────────┐
│                     UAV-卫星跨视角视觉地理定位系统                        |
├─────────────────────────────────────────────────────────────────────────┤
│                                                                         │
│  UAV视角流                   卫星视角流                                  │
│  ┌─────────────┐           ┌─────────────┐                             │
│  │ 输入: UAV图像 │           │ 输入: 卫星图像 │                          │
│  └──────┬──────┘           └──────┬──────┘                             │
│         │                         │                                    │
│  ┌──────▼──────┐           ┌──────▼──────┐                             │
│  │局部显著性编码 │           │全局结构编码 │                              │
│  │(Swin-T+Deform)│           │(HRNet+MSF)│                             │
│  └──────┬──────┘           └──────┬──────┘                             │
│         │                         │                                    │
│  ┌──────▼──────┐           ┌──────▼──────┐                             │
│  │ 几何畸变增强 │           │跨尺度地貌建模│                             │
│  │    Token    │           │ Feature Map │                             │
│  └──────┬──────┘           └──────┬──────┘                             │
│         └─────────┬───────────────┘                                    │
│                   │                                                    │
│           ┌───────▼────────┐                                           │
│           │ 跨视角融合模块  │                                           │
│           │   CVCA模块     │                                           │
│           └───────┬────────┘                                           │
│                   │                                                    │
│           ┌───────▼────────┐                                           │
│           │   匹配头        │                                           │
│           ├────────────────┤                                           │
│           │ 1. 粗匹配       │                                           │
│           │ 2. 精匹配       │                                           │
│           └───────┬────────┘                                           │
│                   │                                                    │
│           ┌───────▼────────┐                                           │
│           │ 经纬度输出      │                                           │
│           │  (lat, lon)    │                                           │
│           └────────────────┘                                           │
└─────────────────────────────────────────────────────────────────────────┘
1. UAV视角流（Close-range View Stream）
1.1 局部显著性编码器
Backbone: Swin-Transformer Tiny (Swin-T)
特征提取: 道路纹理、建筑边缘、交叉口形状、林地特征
输出维度: 局部特征图 7×7×768
1.2 几何畸变鲁棒性增强
技术: Deformable Convolution v2
处理: UAV pitch/roll/yaw变化
增强模块: 多尺度可变形Transformer编码器
最终输出: Token序列 T×D (T=49, D=768)
2. 卫星视角流（Satellite View Stream）
2.1 全局结构编码器
Backbone: HRNet-W48 (High-Resolution Network)
特征提取: 道路网络、城市块面形状、地表大结构
保持高分辨率: 整个处理过程中保持特征图的高分辨率
2.2 跨尺度地貌建模
多尺度融合 (MSF): 融合不同感受野的特征
尺度处理: 1×, 1/2×, 1/4× 多尺度特征图
输出: 密集特征图 H×W×D (H=W=56, D=768)

三、结果可视化：
（1）损失函数曲线对比

文件位置：results/loss_curves.png 或 results/training_history_check.png
内容说明：展示基线模型（baseline）与新模型在训练过程中的损失变化对比，直观反映模型收敛情况和训练稳定性。
（2）地理定位误差曲线

文件位置：results/geolocation_error.png
内容说明：展示模型在测试集上的经纬度预测误差随训练轮数的变化趋势，评估模型定位精度提升情况。
（3）匹配可视化样例

文件位置：根目录下sample_visualization.png 

四、创新点说明
创新点1：跨视角交叉注意力（CVCA）
贡献：提出了一种新颖的跨视角注意力机制，将UAV Token作为Query，卫星特征图作为Key/Value，实现端到端的特征匹配。
优势：
显式对齐: 直接建立UAV与卫星特征的空间对应关系
可解释性: 注意力权重可视化显示匹配区域
灵活性: 处理不同尺度、视角变化

创新点3：双阶段匹配头
贡献：粗匹配+精匹配的双阶段设计，平衡计算效率与定位精度。
优势：
计算效率: 粗匹配快速缩小搜索范围
定位精度: 精匹配实现亚像素级定位
鲁棒性: 对初始误差具有容忍性

五、与 baseline（DRL）的改进对比
当前实验情况说明
由于时间和计算资源限制，本次实现采用了简化版训练策略进行概念验证：
训练配置简化说明
1.数据集规模: 仅使用了数据集的10%子集进行训练验证。
2.图像分辨率: 将原始1024×1024图像下采样到256×256。
3.训练轮数: 仅训练了20个epoch（原计划100+ epoch）。
4.硬件限制: 在单GPU（RTX 3060 12GB）环境下训练。
5.批量大小: 只能使用batch_size=8（理想应为32+）。
当前实验结果：
                     简化训练结果 (概念验证)                    
评估指标       DRL Baseline  我们的实现      说明            
 训练损失       0.85           1.12          欠拟合状态      
 验证准确率      72.3%         65.8%         需更多训练      
 推理速度(FPS)   45            38            CVCA增加计算量  
 模型大小(MB)    145           187           参数更多       

如果设备支持，预期效果：

                   预期完整训练后的性能对比 (理论估计)                    
 方法           Geo Error ↓   Top-1 Match ↑ FPS ↑          改进说明    
 DRL Baseline    15.8 m        68.2%         42            原始基准    
 我们的方法      预计 8-10 m   │ 预计 80-85%    预计 35-40     创新点:    
                                                            1. CVCA模块   
                                                            2. 双阶段匹配 

